model Player {
  id        String   @id @default(cuid())
  name      String
  leagueId  String
  league    League   @relation(fields: [leagueId], references: [id], onDelete: Cascade)
  userId    String?  @unique
  user      User?    @relation(fields: [userId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  seasonPlayers SeasonPlayer[]

  @@unique([leagueId, name])
}

model SeasonPlayer {
  id String @id @default(cuid())
  seasonId String
  playerId String
  season Season @relation(fields: [seasonId], references: [id], onDelete: Cascade)
  player Player @relation(fields: [playerId], references: [id], onDelete: Cascade)
  eloRating Int @default(1200)
  wins Int @default(0)
  losses Int @default(0)
  draws Int? @default(0)
  joinedAt  DateTime @default(now())

  gameResults GameResult[]

  @@unique([seasonId, playerId])
}
